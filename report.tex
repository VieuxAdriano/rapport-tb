\documentclass[
    iai, % Saisir le nom de l'institut rattaché
    eai, % Saisir le nom de l'orientation
    %confidential, % Décommentez si le travail est confidentiel
]{heig-tb}

\usepackage[nooldvoltagedirection,european,americaninductors]{circuitikz}
\usepackage{pdfpages}
\usepackage{lscape}
\usepackage{pifont}
\signature{avieux.svg} 

\makenomenclature
\makenoidxglossaries
\makeindex

\addbibresource{bibliography.bib}

\input{nomenclature}
\input{acronyms}
\input{glossary}
\input{meta}

\surroundwithmdframed{minted}

%% Début du document
\begin{document}
\selectlanguage{french}
\maketitle
\frontmatter
\clearemptydoublepage

%% Requis par les dispositions générales des travaux de Bachelor
\preamble
\authentification

%% Résumé / Résumé publiable / Version abrégée
\begin{abstract}
    \input{abstract}
\end{abstract}

%% Sommaire et tables
\clearemptydoublepage
{
    \tableofcontents
    \let\cleardoublepage\clearpage
    \listoffigures
    \let\cleardoublepage\clearpage
    \listoftables
    \let\cleardoublepage\clearpage
    \listoflistings
}

\printnomenclature
\clearemptydoublepage
\pagenumbering{arabic}

%% Contenu
\mainmatter
\chapter{Introduction}
\input{introduction.tex}
%\input{examples.tex}

\chapter{Analyse de l'existant}
\label{chap:exi}
\input{existant.tex}

\chapter{Recherches}
\input{recherches.tex}

\chapter{Sélection du matériel et des technologies}
\input{selection.tex}

\chapter{Langage de programmation}
\input{language.tex}

\chapter{Système de vision}
\input{vision.tex}

\chapter{Contrôle de la télécommande}
\input{controle.tex}

\chapter{Installation sur le semoir}
\input{installation.tex}

\chapter{Retour vidéo}
\input{monitoring.tex}

\chapter{Conclusion}
\input{conclusion.tex}

\clearpage
\printbibliography

\appendix
\appendixpage
\addappheadtotoc

%%if
\chapter{Planning \label{planning}}
\includepdf[pages=-,landscape=true]{assets/pdf/planning_complet.pdf}
\chapter{Datasheets}
\section{Led infrarouge 850nm}
\includepdf[pages={4-5}]{assets/pdf/datasheet_led.pdf}
\section{PiCamera module 3 NOiR Wide}
\includepdf[pages={3-5}]{assets/pdf/datasheet_camera.pdf}

\section{Régulateur 1.5 [V]}
\includepdf[pages=-]{assets/pdf/datasheet_regul.pdf}

\section{Alimentation à découpage}
\includepdf[pages=-]{assets/pdf/datasheet_alim.pdf}

\chapter{Liste du matériel}
\begin{table}[H]
    \begin{center}
        \caption{Table - Liste du matériel}
        \begin{tabular}{|c|c|c|c|c|}
            Quantités & Eléments                  & Fournisseurs         & Référence      & Prix total \\ \hline
            100       & Leds 850 nm               & Mouser               & SFH 4555       & 33 CHF     \\
            100       & Resistance 56 \si{\ohm}   & FabLab               & -              & -          \\
            2         & Profilé plat 800x30x5     & Atelier électroméca. & -              & -          \\
            2         & Profilé plat 700x30x5     & Atelier électroméca. & -              & -          \\
            1         & Boitier étanche           & Distrelec            & 301-13-308     & 44.50 CHF  \\
            1         & Supp. Alu boitier 29x45x3 & Atelier électroméca. & -              & -          \\
            1         & Alim. découpage 12V - 5 V & Distrelec            & 169-06-002     & 36.20 CHF  \\
            1         & Régulateur 1.5 V          & Mouser               & 755-BA15JC5T   & 2.50 CHF   \\
            1         & Fusible                   & FabLab               & -              & -          \\
            1         & Rallonge 13 broches       & Amazon               & B0854BW6NZ     & 30 CHF     \\
            1         & RaspberryPi 4 4Go         & ReDs                 & -              & -          \\
            1         & Rail DIN 260 mm           & Distrelec            & 301-55-505     & 3.50 CHF   \\
            1         & Caméra RPi module 3 NoIR  & Digi-key             & 2648-SC0875-ND & 31.15 CHF  \\
            1         & Capture Reed              & FabLab               & -              & -          \\
            1         & Aimant                    & FabLab               & -              & -          \\ \hline
            Total     &                           &                      &                & 181.20 CHF \\
        \end{tabular}
    \end{center}
\end{table}
\chapter{Programmes}

\section{Test de captures \label{test_process}}
\includepdf[pages=-]{assets/code/test_process.py.pdf}
\section{Capture images de références \label{img_ref}}
\includepdf[pages=-]{assets/code/cap_img_ref.py.pdf}

\section{Libraire de fonctions \label{libraire_det}}
\includepdf[pages=-]{assets/code/detection_lib.py.pdf}

\section{Main \label{main}}
\includepdf[pages=-]{assets/code/main.py.pdf}

\section{Stream \label{stream}}
\includepdf[pages=-]{assets/code/stream.py.pdf}

\chapter{Angle de vue \label{dev_pxl}}
\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{assets/figures/developpement_resolution.PNG}
    \caption{Annexe - Développement résolution}
\end{figure}
\chapter{Schéma électrique}
\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{assets/figures/circuit.png}
    \caption{Annexe - Schéma électrique boitier}
\end{figure}
%%fi

\let\cleardoublepage\clearpage
\backmatter

\label{glossaire}
\printnoidxglossary
\label{index}
\printindex

% Le colophon est le dernier élément d'un document qui contient des notes de l'auteur concernant la mise en page et l'édition du document : il est parfaitement optionnel.
%\input{colophon.tex}
\end{document}